import './about-page.styles.css';
import rendered from '../../utils/render';
import BaseComponent from '../base-component/base-component';
import { Callback } from '../shopping-cart/shopping-cart.types';
import Routes from '../app/routes.types';

export default class AboutPage extends BaseComponent {
  private exploreBtn: HTMLElement | null = null;

  constructor(private callback: Callback) {
    super('div', 'about-container about');
    this.render();
  }

  private render(): void {
    const imgWrapper: HTMLElement = rendered('div', this.element, 'about__img-wrapper');
    rendered('img', imgWrapper, 'about__image', '', {
      src: 'assets/images/about-us-img.jpg',
      alt: 'A young mermaid girl with blue hair is in the water with lotuses in her hair. Image created with AI Midjourney.',
    });
    const contentWrapper: HTMLElement = rendered('div', this.element, 'about__content-wrapper');
    rendered('h2', contentWrapper, 'about__title', 'About us');
    rendered('p', contentWrapper, 'about__text', 'Welcome to the world of imagination!');
    rendered(
      'p',
      contentWrapper,
      'about__text',
      'ARTificial is a unique collection of posters generated by Midjourney, an AI-powered tool that turns any creative idea into artwork from text.',
    );
    rendered(
      'p',
      contentWrapper,
      'about__text',
      "Each piece of art in our store has been carefully chosen for you by our team and can't wait to illuminate your home or office (or maybe, it will become a present for someone special?..)",
    );
    rendered('p', contentWrapper, 'about__text', 'Explore our collection now to find your perfect match!');
    this.exploreBtn = rendered('button', contentWrapper, 'about__explore-btn', 'Explore');
    this.exploreBtn.addEventListener('click', this.exploreBtnCallback);
  }

  private exploreBtnCallback = (): void => {
    window.history.pushState({}, '', Routes.Home);
    this.callback();
  };
}
